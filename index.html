<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AFROSIYO</title>

<style>
body{margin:0;font-family:Arial;background:#f2f2f2}
header{
 text-align:center;padding:20px;font-size:32px;font-weight:bold;color:#fff;
 background:linear-gradient(90deg,#e53935,#fbc02d,#1e88e5)
}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;padding:15px}
.card{background:#fff;border-radius:12px;padding:10px;box-shadow:0 4px 10px rgba(0,0,0,.1)}
.card img{width:100%;height:200px;object-fit:contain}
.card input{width:100%;padding:8px;font-size:16px;margin-top:8px}
.total{padding:15px;font-size:22px;font-weight:bold}
.form{padding:15px}
.form input,.form select{
 width:100%;padding:10px;margin-bottom:10px;font-size:16px
}
button{
 width:100%;padding:15px;font-size:18px;
 background:#1e88e5;color:white;border:none;border-radius:8px
}
.note{padding:10px;color:#555}
small{color:#555}
</style>
</head>

<body>

<header>AFROSIYO</header>

<div class="grid" id="products"></div>

<div class="total">Jami: <span id="sum">0</span> so‚Äòm</div>
<div class="note">Narxlar blok bo‚Äòyicha ‚Ä¢ Dostavka kelishiladi</div>

<div class="form">
 <input id="name" placeholder="Ismingiz">
 <input id="phone" placeholder="Telefon raqam">

 <select id="region" onchange="loadDistricts()">
  <option value="">Viloyatni tanlang</option>
 </select>

 <select id="district">
  <option value="">Tumanni tanlang</option>
 </select>

 <input id="address" placeholder="Ko‚Äòcha, uy">
 <button onclick="sendOrder()">Buyurtma berish</button>
</div>

<script>
/* === TELEGRAM === */
const BOT_TOKEN="7708888984:AAEYVQG7jhUsRiyhP19KTtYoYu5UNHnSnr4";
const CHAT_ID="@AfrosiyoBuyurtma";

/* === MAHSULOTLAR (narx = 1 blok) === */
const products=[
 {n:"Kir yuvish geli",h:"1L",r:"Qizil", p:45000,b:9, img:"qizil1l.jpg"},
 {n:"Kir yuvish geli",h:"1L",r:"Sariq", p:45000,b:9, img:"sariq1l.png"},
 {n:"Kir yuvish geli",h:"1L",r:"Ko‚Äòk",   p:45000,b:9, img:"kok1l.png"},

 {n:"Kir yuvish geli",h:"2.5L",r:"Qizil",p:50000,b:4, img:"qizil2.5l.png"},
 {n:"Kir yuvish geli",h:"2.5L",r:"Sariq",p:50000,b:4, img:"sariq2.5l.png"},
 {n:"Kir yuvish geli",h:"2.5L",r:"Ko‚Äòk",  p:50000,b:4, img:"kok2.5l.png"},

 {n:"Idish yuvish geli",h:"5L",r:"Barcha",p:25000,b:1, img:"idish5l.jpg"}
];

/* === KARTALAR === */
const box=document.getElementById("products");
products.forEach((x,i)=>{
 box.innerHTML+=`
 <div class="card">
  <img src="${x.img}">
  <b>${x.n}</b><br>
  ${x.h} | ${x.r}<br>
  <b>Narxi: ${x.p} so‚Äòm / blok</b><br>
  <small>1 blok = ${x.b} dona</small>
  <input type="number" min="0" data-i="${i}"
   oninput="calc()" placeholder="Necha blok?">
 </div>`;
});

/* === HISOBLASH === */
function calc(){
 let sum=0;
 document.querySelectorAll("input[data-i]").forEach(el=>{
  const i=el.dataset.i;
  const blocks=+el.value||0;
  sum+=blocks*products[i].p;
 });
 document.getElementById("sum").innerText=sum;
}

/* === VILOYAT / TUMAN (TO‚ÄòLIQ) === */
const districts={
 "Qoraqalpog‚Äòiston":["Nukus sh.","Amudaryo","Beruniy","Chimboy","Ellikqal‚Äôa","Kegeyli","Mo‚Äòynoq","Qanliko‚Äòl","Qo‚Äòng‚Äòirot","Shumanay","Taxtako‚Äòpir","To‚Äòrtko‚Äòl","Xo‚Äòjayli"],
 "Andijon":["Andijon sh.","Asaka","Baliqchi","Bo‚Äòston","Buloqboshi","Izboskan","Jalaquduq","Marhamat","Oltinko‚Äòl","Paxtaobod","Qo‚Äòrg‚Äòontepa","Shahrixon","Ulug‚Äònor"],
 "Buxoro":["Buxoro sh.","Buxoro t.","G‚Äòijduvon","Jondor","Kogon sh.","Kogon t.","Olot","Peshku","Qorako‚Äòl","Qorovulbozor","Romitan","Shofirkon","Vobkent"],
 "Farg‚Äòona":["Farg‚Äòona sh.","Beshariq","Bog‚Äòdod","Buvayda","Dang‚Äòara","Furqat","Qo‚Äòshtepa","Quva","Quvasoy","Rishton","So‚Äòx","Toshloq","Uchko‚Äòprik","Yozyovon"],
 "Jizzax":["Jizzax sh.","Arnasoy","Baxmal","Do‚Äòstlik","Forish","G‚Äòallaorol","Mirzacho‚Äòl","Paxtakor","Yangiobod","Zomin"],
 "Namangan":["Namangan sh.","Chortoq","Chust","Kosonsoy","Mingbuloq","Norin","Pop","To‚Äòraqo‚Äòrg‚Äòon","Uychi","Yangiqo‚Äòrg‚Äòon"],
 "Navoiy":["Navoiy sh.","Karmana","Konimex","Navbahor","Nurota","Qiziltepa","Tomdi","Uchquduq","Xatirchi","Zarafshon"],
 "Qashqadaryo":["Qarshi sh.","Chiroqchi","Dehqonobod","G‚Äòuzor","Kasbi","Kitob","Koson","Mirishkor","Muborak","Nishon","Shahrisabz","Yakkabog‚Äò"],
 "Samarqand":["Samarqand sh.","Bulung‚Äòur","Ishtixon","Jomboy","Kattaqo‚Äòrg‚Äòon sh.","Kattaqo‚Äòrg‚Äòon t.","Narpay","Nurobod","Oqdaryo","Paxtachi","Payariq","Qo‚Äòshrabot","Toyloq","Urgut"],
 "Sirdaryo":["Guliston sh.","Boyovut","Guliston t.","Mirzaobod","Oqoltin","Sayxunobod","Sardoba","Xovos","Yangiyer"],
 "Surxondaryo":["Termiz sh.","Angor","Bandixon","Boysun","Denov","Jarqo‚Äòrg‚Äòon","Muzrabot","Oltinsoy","Qiziriq","Qumqo‚Äòrg‚Äòon","Sariosiyo","Sherobod","Sho‚Äòrchi","Uzun"],
 "Toshkent vil.":["Angren","Bekobod","Bo‚Äòka","Chinoz","Ohangaron","Oqqo‚Äòrg‚Äòon","Parkent","Piskent","Quyi Chirchiq","Yangiyo‚Äòl","Yuqori Chirchiq","Zangiota"],
 "Toshkent sh.":["Bektemir","Chilonzor","Mirobod","Mirzo Ulug‚Äòbek","Olmazor","Sergeli","Shayxontohur","Uchtepa","Yakkasaroy","Yunusobod","Yashnobod"],
 "Xorazm":["Urganch sh.","Bog‚Äòot","Gurlan","Hazorasp","Xiva","Qo‚Äòshko‚Äòpir","Shovot","Urganch t.","Xonqa","Yangiariq","Yangibozor"]
};

const regionSel=document.getElementById("region");
const distSel=document.getElementById("district");

Object.keys(districts).forEach(r=>{
 regionSel.innerHTML+=`<option value="${r}">${r}</option>`;
});

function loadDistricts(){
 distSel.innerHTML='<option value="">Tumanni tanlang</option>';
 districts[regionSel.value]?.forEach(d=>{
  distSel.innerHTML+=`<option value="${d}">${d}</option>`;
 });
}

/* === TELEGRAMGA YUBORISH === */
function sendOrder(){
 if(!name.value||!phone.value||!region.value||!district.value){
  alert("Barcha maydonlarni to‚Äòldiring");return;
 }

 let text="üßæ AFROSIYO BUYURTMA\n\n";
 let has=false;

 document.querySelectorAll("input[data-i]").forEach(el=>{
  const q=+el.value||0;
  if(q>0){
   const p=products[el.dataset.i];
   text+=`${p.n} ${p.h} ${p.r}
‚Äî ${q} blok (${q*p.b} dona)\n`;
   has=true;
  }
 });

 if(!has){alert("Mahsulot tanlang");return;}

 text+=`\nüë§ ${name.value}
üìû ${phone.value}
üìç ${region.value}, ${district.value}, ${address.value}
üí∞ Jami: ${sum.innerText} so‚Äòm`;

 fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
  method:"POST",
  headers:{"Content-Type":"application/json"},
  body:JSON.stringify({chat_id:CHAT_ID,text})
 });

 alert("‚úÖ Buyurtma yuborildi");
}
</script>

</body>
</html> ].
