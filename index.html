<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AFROSIYO</title>

<style>
body{margin:0;font-family:Arial;background:#f2f2f2}
header{
 text-align:center;padding:20px;font-size:32px;font-weight:bold;color:#fff;
 background:linear-gradient(90deg,#e53935,#fbc02d,#1e88e5)
}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;padding:15px}
.card{background:#fff;border-radius:12px;padding:10px;box-shadow:0 4px 10px rgba(0,0,0,.1)}
.card img{width:100%;height:200px;object-fit:contain}
.card input{width:100%;padding:8px;font-size:16px;margin-top:6px}
.total{padding:15px;font-size:22px;font-weight:bold}
.note{padding:0 15px;color:#555}
.form{padding:15px}
.form input,.form select{
 width:100%;padding:10px;margin-bottom:10px;font-size:16px
}
button{
 width:100%;padding:15px;font-size:18px;
 background:#1e88e5;color:white;border:none;border-radius:8px
}
</style>
</head>

<body>

<header>AFROSIYO</header>

<div class="grid" id="products"></div>

<div class="total">Jami: <span id="sum">0</span> soâ€˜m</div>
<div class="note">ğŸšš Dostavka va ğŸ’¸ chegirma kelishiladi</div>

<div class="form">
 <input id="name" placeholder="Ismingiz">
 <input id="phone" placeholder="Telefon raqam">

 <select id="region" onchange="loadDistricts()">
  <option value="">Viloyatni tanlang</option>
 </select>

 <select id="district">
  <option value="">Tumanni tanlang</option>
 </select>

 <input id="address" placeholder="Manzil">
 <button onclick="sendOrder()">Buyurtma berish</button>
</div>

<script>
/* ğŸ”´ TELEGRAM */
const BOT_TOKEN="7708888984:AAEYVQG7jhUsRiyhP19KTtYoYu5UNHnSnr4";
const CHAT_ID="@AfrosiyoBuyurtma";

/* ğŸ§´ MAHSULOTLAR */
const products=[
 {n:"Kir yuvish geli",l:"1L",c:"Qizil",price:45000,unit:"blok",block:9,img:"qizil1l.jpg"},
 {n:"Kir yuvish geli",l:"1L",c:"Sariq",price:45000,unit:"blok",block:9,img:"Sariq1l.png"},
 {n:"Kir yuvish geli",l:"1L",c:"Koâ€˜k",price:45000,unit:"blok",block:9,img:"kok1l.png"},
 {n:"Idish yuvish geli",l:"1L",c:"",price:45000,unit:"blok",block:9,img:"idishgeli1l.jpg"},

 {n:"Kir yuvish geli",l:"2.5L",c:"Qizil",price:50000,unit:"blok",block:4,img:"qizil2.5l.png"},
 {n:"Kir yuvish geli",l:"2.5L",c:"Sariq",price:50000,unit:"blok",block:4,img:"sariq2.5l.png"},
 {n:"Kir yuvish geli",l:"2.5L",c:"Koâ€˜k",price:50000,unit:"blok",block:4,img:"kok2.5l.png"},
 {n:"Idish yuvish geli",l:"2.5L",c:"",price:50000,unit:"blok",block:4,img:"idishgeli2.5l.jpg"},

 {n:"Kir yuvish geli",l:"5L",c:"Qizil",price:25000,unit:"dona",block:1,img:"qizil5l.png"},
 {n:"Kir yuvish geli",l:"5L",c:"Sariq",price:25000,unit:"dona",block:1,img:"sariq5l.png"},
 {n:"Kir yuvish geli",l:"5L",c:"Koâ€˜k",price:25000,unit:"dona",block:1,img:"kok5l.png"},

 {n:"Idish yuvish geli",l:"5L",c:"Qizil",price:25000,unit:"dona",block:1,img:"idishgeliqizil5l.jpg"},
 {n:"Idish yuvish geli",l:"5L",c:"Sariq",price:25000,unit:"dona",block:1,img:"idishgelisariq5l.jpg"},
 {n:"Idish yuvish geli",l:"5L",c:"Yashil",price:25000,unit:"dona",block:1,img:"idishgeliyashil5l.jpg"}
];

const box=document.getElementById("products");

products.forEach((p,i)=>{
 box.innerHTML+=`
 <div class="card">
  <img src="${p.img}">
  <b>${p.n}</b><br>
  ${p.l} ${p.c}<br>
  Narxi: ${p.price} soâ€˜m / ${p.unit}<br>
  ${p.unit==="blok" ? `<small>1 blok = ${p.block} dona</small>` : ""}
  <input type="number" min="0" placeholder="Necha ${p.unit}?" data-i="${i}" oninput="calc()">
 </div>`;
});

/* ğŸ’° HISOB */
function calc(){
 let sum=0;
 document.querySelectorAll("input[data-i]").forEach(el=>{
  const q=+el.value||0;
  sum+=q*products[el.dataset.i].price;
 });
 document.getElementById("sum").innerText=sum;
}

/* ğŸ“ VILOYAT / TUMAN */
const districts={
 "Andijon":["Andijon sh.","Asaka","Baliqchi","Boâ€˜ston","Buloqboshi","Izboskan","Jalaquduq","Marhamat","Oltinkoâ€˜l","Paxtaobod","Qoâ€˜rgâ€˜ontepa","Shahrixon","Ulugâ€˜nor"],
 "Buxoro":["Buxoro sh.","Gâ€˜ijduvon","Jondor","Kogon","Olot","Peshku","Qorakoâ€˜l","Romitan","Shofirkon","Vobkent"],
 "Fargâ€˜ona":["Fargâ€˜ona sh.","Beshariq","Bogâ€˜dod","Buvayda","Dangâ€˜ara","Rishton","Quva","Toshloq","Uchkoâ€˜prik"],
 "Samarqand":["Samarqand sh.","Bulungâ€˜ur","Ishtixon","Jomboy","Kattaqoâ€˜rgâ€˜on","Narpay","Urgut"],
 "Toshkent vil.":["Angren","Bekobod","Boâ€˜ka","Chinoz","Ohangaron","Parkent","Yangiyoâ€˜l"],
 "Toshkent sh.":["Chilonzor","Yunusobod","Mirzo Ulugâ€˜bek","Sergeli","Uchtepa","Shayxontohur"]
};

const regionSel=document.getElementById("region");
const distSel=document.getElementById("district");

Object.keys(districts).forEach(r=>{
 regionSel.innerHTML+=`<option>${r}</option>`;
});

function loadDistricts(){
 distSel.innerHTML="<option value=''>Tumanni tanlang</option>";
 districts[regionSel.value]?.forEach(d=>{
  distSel.innerHTML+=`<option>${d}</option>`;
 });
}

/* ğŸ“¤ TELEGRAM */
function sendOrder(){
 let text="ğŸ§¾ AFROSIYO BUYURTMA\n\n";
 let ok=false;

 document.querySelectorAll("input[data-i]").forEach(el=>{
  const q=+el.value||0;
  if(q>0){
   const p=products[el.dataset.i];
   text+=`${p.n} ${p.l} ${p.c} â€” ${q} ${p.unit}\n`;
   ok=true;
  }
 });

 if(!ok){alert("Mahsulot tanlang");return;}

 text+=`\nğŸ‘¤ ${name.value}
ğŸ“ ${phone.value}
ğŸ“ ${region.value}, ${district.value}, ${address.value}
ğŸ’° Jami: ${sum.innerText} soâ€˜m`;

 fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
  method:"POST",
  headers:{"Content-Type":"application/json"},
  body:JSON.stringify({chat_id:CHAT_ID,text})
 });

 alert("âœ… Buyurtma yuborildi");
}
</script>

</body>
</html>
